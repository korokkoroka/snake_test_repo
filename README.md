##진화 스네이크 게임

현대적인 게임플레이 요소들이 추가된 스네이크 게임입니다.

## 🚀 게임 실행 방법

### 자동 설치 및 실행 (권장)
```bash
# 실행 권한 부여 (최초 1회만)
chmod +x setup_and_run.sh

# 게임 실행 (환경 자동 설정 포함)
./setup_and_run.sh
```

### 수동 설치 및 실행
```bash
# 1. 가상환경 생성 (선택사항)
python3 -m venv venv
source venv/bin/activate  # Windows: venv\Scripts\activate

# 2. 의존성 설치
pip install -r requirements.txt

# 3. 게임 실행
python3 main.py
```

### 간단 실행 (환경이 이미 설정된 경우)
```bash
./run_game.sh
```

## 📋 시스템 요구사항
- Python 3.7 이상
- pygame 2.6.1
- pynput 1.8.1
- six 1.17.0
- keyboard 0.13.5

게임 모드

1. 클래식 모드
- 기본적인 스네이크 게임플레이
- 대시 기능 추가 (스페이스바)
- 간단한 리드용 뱀
- 점수 시스템과 리더보드

2. 진화 모드
- 레벨업 시스템 (경험치 획득)
- 스탯 강화 시스템
- 진화 시스템
- 특수 아이템 생성
- AI 적들과의 상호작용
- 에너지 관리 시스템

3. 보스전 모드
- 강력한 보스와의 전투
- 3단계 페이즈 시스템
  - 1페이즈: 기본 패턴 (5초마다 단일 투사체)
  - 2페이즈: 강화 패턴 (3초마다 2발 투사체)
  - 3페이즈: 최종 패턴 (원형 탄막 + 전체 공격)
- 투사체 회피 시스템
- 전체 공격 시스템(코드로만 존재재)
  - 경고음 재생
  - 안전 구역 생성 (화면 1/6 크기)
  - 구역 외 즉사데미지
- 보스 체력 시스템 (200 HP)

게임 특징

진화 시스템
- **레벨 5 진화**:
  - SPEEDER: 이동속도 증가, 대시 쿨다운 감소
  - TANK: 체력 증가, E키로 일회용 피해 면역 (20초 쿨다운)
  - HUNTER: 먹이 흡수 범위 3배 증가, 긴 대시 거리
- **레벨 10 진화**:
  - ULTIMATE: 모든 능력 획득, 무적 대시
  
  스탯 시스템
- 이동속도 (SPEED)
  - 레벨당 이동속도 20% 증가
- 에너지 관리 (ENERGY)
  - 레벨당 최대 에너지 20 증가
  - 에너지 소모량 15% 감소
- 레벨 2당 1개의 스탯 포인트 획득
- 최대 스탯 레벨: 5

특수 아이템 시스템
- 보호막 (SHIELD)
  - 일시적 무적 효과
  - 모든 피해 면역
- 속도 부스트 (SPEED_BOOST)
  - 이동속도 대폭 증가
  - 에너지 소모 감소
- 유령화 (GHOST)
  - 충돌 무시
  - 벽 통과 가능

에너지 시스템
- 기본 에너지: 100
- 대시 사용시 에너지 소모
- 에너지 부족시 행동 제한
- 자동 회복 시스템

AI 시스템
- 기본 AI 행동:
  - 먹이 추적
  - 충돌 회피
  - 생존 우선
- 고급 AI 기능 (시뮬레이션모드용 현재 모드 자체가 삭제됨):
  - 에너지 공유 시스템
  - 감정 시스템
  - 번식 시스템

조작 방법

기본 조작
- **방향키/WASD**: 이동
- **스페이스바**: 대시
  - 쿨다운: 10초
  - 지속시간: 4초
  - 에너지 소모: 초당 1
- **TAB**: 스탯 창 열기
- **E**: 탱크 면역 능력 (진화 모드/보스전)
- **ESC**: 게임 종료

스탯 창 조작
- **1**: 이동속도 강화
- **2**: 에너지 강화

💻 Developer's Guide

시스템 아키텍처

1. 코어 시스템 (module.py)
- **기본 클래스**
  ```python
  class Snake:
      # 뱀의 기본 동작 및 상태 관리
      # 진화, 스탯, 효과 시스템 포함
  
  class Food:
      # 기본 먹이 클래스
  
  class SpecialItem(Food):
      # 특수 아이템 클래스
      # 효과 시스템 연동
  ```

- **상수 및 설정**
  ```python
  # 게임 기본 설정
  WIDTH, HEIGHT = 1024, 768
  CELL_SIZE = 10
  
  # 게임 밸런스 상수
  SPAWN_PROTECTION_TIME = 45  # 3초
  DASH_DURATION = 60         # 4초
  DASH_COOLDOWN = 150       # 10초
  ```

2. 게임 모드별 구현 (main.py)

클래식 모드
```python
def game_loop(game_mode="CLASSIC"):
    # 기본 게임 로직
    # 대시 시스템
    # AI 적 생성 및 관리
    # 점수 시스템
```

진화 모드
```python
class EvolutionSystem:
    # 레벨업 시스템
    # 진화 트리 관리
    # 스탯 포인트 시스템

def handle_evolution(screen, player):
    # 진화 선택 UI
    # 능력치 변경
    # 이펙트 처리
```

보스전 모드
```python
class BossSnake(Snake):
    # 보스 AI 패턴
    # 페이즈 시스템
    # 투사체 관리
    # 전체 공격 시스템
```

코드 구조

1. 메인 게임 루프 (main.py)
```python
def main():
    # 게임 초기화
    # 모드 선택
    # 게임 루프 실행
    # 종료 처리
```

2. 이벤트 처리 시스템
```python
def handle_events():
    # 키보드 입력
    # 충돌 감지
    # UI 이벤트
```

3. 렌더링 시스템
```python
def draw_game_objects():
    # 게임 오브젝트 렌더링
    # UI 렌더링
    # 이펙트 렌더링
```

### 현재 미사용 코드 (초기 개발에 따른 시뮬레이션 모드 파일과 보스의 전체 공격 패턴 파일들이 섞여있음)

1. 전투 시스템 관련
```python
def fight(self, other):
    # 현재 사용되지 않는 전투 시스템
    # 공격력/방어력 기반 전투
    # 데미지 계산
```

2. AI 행동 패턴
```python
def share_energy(self, nearby_snakes):
    # 미구현된 에너지 공유 시스템
    
def store_extra_energy(self):
    # 사용되지 않는 에너지 저장 시스템
```

3. 보스 패턴
```python
def global_attack():
    # 비활성화된 전체 공격 시스템
    # 60초 주기 타이머
    # 데미지 존 생성
```

모드별 파일 구조

1. 클래식 모드
- **main.py**
  - `mode_select_screen()`
  - `game_loop("CLASSIC")`
  - `handle_classic_events()`
- **module.py**
  - `Snake` 클래스 기본 기능
  - `spawn_food()`
  - `handle_collisions()`

2. 진화 모드
- **main.py**
  - `game_loop("EVOLUTION")`
  - `draw_evolution_ui()`
  - `handle_evolution()`
- **module.py**
  - `Snake` 클래스 진화 관련 메서드
  - `EVOLUTION_FORMS` 상수
  - `SpecialItem` 클래스

3. 보스전 모드
- **main.py**
  - `game_loop("BOSS")`
  - `draw_boss_ui()`
  - `handle_boss_events()`
- **module.py**
  - `BossSnake` 클래스
  - `BOSS_PATTERNS` 상수
  - `handle_boss_collision()`

## 🎨 UI/UX 디자인 개선 이력

### 2025년 6월 업데이트 - 전면적인 디자인 개선

#### 📊 게이지 디자인 향상
- **둥근 모서리 적용**: 모든 게이지와 바에 부드러운 둥근 모서리 적용
  - 에너지 바 (체력 표시)
  - 경험치 바 (레벨 진행도)
  - 보스 체력 바
  - 스탯 레벨 바

#### 🖼️ 로고 시스템 구현
- **logo.png 이미지 지원**: 시작 화면에서 텍스트 대신 로고 이미지 표시
- **자동 크기 조정**: 다양한 이미지 크기에 대한 자동 스케일링
- **비율 유지**: 원본 이미지의 가로세로 비율 보존
- **폴백 시스템**: 이미지가 없을 경우 기존 텍스트로 자동 전환

#### 🔘 버튼 디자인 현대화
- **둥근 모서리**: 모든 버튼에 8-12px 둥근 모서리 적용
  - 모드 선택 버튼
  - 게임 오버 화면 버튼
  - 일시정지 화면 버튼
- **시각적 일관성**: 전체 UI 요소 간 디자인 통일

#### 📈 스탯 업그레이드 창 개선
- **창 크기 확대**: 300x300 → 450x380으로 크기 증가
- **폰트 크기 향상**:
  - 제목: 30px → 32px
  - 내용: 20px → 22px
- **간격 최적화**: 텍스트와 게이지 간 여백 확대
- **가독성 향상**: 텍스트 잘림 현상 해결

#### 🏆 실시간 리더보드 완전 재디자인
- **모던 카드 스타일**: 기존 단순 텍스트에서 카드형 디자인으로 전환
- **그라데이션 배경**: 부드러운 색상 그라데이션 효과 적용
- **순위 시스템 개선**:
  - 1-3위: 시각적 강조 (골드/실버/브론즈 색상)
  - 4위 이상: 영어 서수 표기 (4th, 5th, 6th...)
  - 11th, 12th, 13th 등 특수 케이스 처리
- **점수 표시**: 천 단위 콤마 구분자 추가 (예: 1,234)
- **동적 투명도**: 플레이어 뱀이 근처에 있을 때 투명도 자동 조정
- **플레이어 색상 연동**: 각 플레이어의 뱀 색상과 이름 색상 매칭

#### 🧬 진화 선택 화면 완전 리뉴얼
- **현대적 UI 디자인**:
  - 그라데이션 메인 패널
  - 둥근 모서리와 글로우 효과
  - 카드 스타일 진화 옵션
- **진화 형태별 색상 시스템**: 각 진화 형태의 고유 색상 적용
- **원형 숫자 배지**: 키 선택을 위한 시각적 가이드
- **능력 태그 시스템**: 각 능력을 작은 둥근 태그로 표시
- **향상된 타이포그래피**: 텍스트 그림자 효과와 계층적 폰트 적용
- **한국어 완전 지원**: 모든 텍스트의 한국어 번역
- **레이아웃 최적화**: 창 높이 확대 (500px → 550px)로 UI 겹침 방지

#### 🎯 사용자 경험 향상
- **게임플레이 방해 최소화**: 뱀이 UI 근처에 있을 때 자동 투명도 조정
- **시각적 피드백**: 마우스 호버 및 선택 상태 시각적 표시
- **접근성 개선**: 키보드와 마우스 모두 지원하는 하이브리드 조작
- **일관된 디자인 언어**: 모든 UI 요소에 통일된 디자인 시스템 적용

#### 🔧 기술적 개선사항
- **draw_rounded_rect 유틸리티**: 범용 둥근 사각형 그리기 함수 구현
- **알파 블렌딩**: 적절한 투명도 효과로 시각적 깊이감 구현
- **에러 처리**: 이미지 로드 실패 시 우아한 폴백 처리
- **성능 최적화**: UI 렌더링 효율성 개선